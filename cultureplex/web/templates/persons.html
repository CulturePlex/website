{% extends 'index.html' %}

{% load thumbnail %}

{% block content %}
    <h1>People</h1>
{% if persons.object_list %}
    <ul>
    {% for person in persons.object_list %}
        <li><a href="/persons/{{ person.id }}/">{{ person.name }}
{% thumbnail person.image "100x100" crop="bottom" as im %}
            <img style="margin:{{ im|margin:"100x100" }}" src="{{ im.url }}" width="{{ im.x }}" height="{{ im.y }}">
{% endthumbnail %}
    </a></li>
    {% endfor %}
    </ul>
{% else %}
    <p>No people available.</p>
{% endif %}

<div class="pagination">
    <span class="step-links">
        {% if persons.has_previous %}
            <a href="?page={{ persons.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ persons.number }} of {{ persons.paginator.num_pages }}.
        </span>

        {% if persons.has_next %}
            <a href="?page={{ persons.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>

<a href="../">Back</a>
{% endblock %}
